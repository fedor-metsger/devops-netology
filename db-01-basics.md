# Домашнее задание к занятию 1. «Типы и структура СУБД»

1. **Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных. Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД. Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.**
    - **электронные чеки в json-виде:**

      Ответ: Документоориентированную или ключ-значение Формат JSON не явлеется сильно структурированным, все чеки будут иметь различную структуру, поэтому для хранения       лучше выбрать NoSQL DB. 

    - **склады и автомобильные дороги для логистической компании:**  
  
      Ответ: графовую Так как совокупность складов и соединяющих их дорог представляет собой граф. (задача коммивояжера) 

    - **генеалогические деревья:**  
  
      Ответ: Графовые Так как позволяют легко отображать различные взаимосвязи (родственные и другие) взаимосвязи между объектами (людми)

    - **кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации:**

      Ответ: Ключ-значение. Данные можно хранить в ОЗУ с атрибутом времени жизни.

    - **отношения клиент-покупка для интернет-магазина:**

      Ответ: Реляционную. Тут очень чётко прослеживается связь многие к одному.

2. **Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):**

    - **данные записываются на все узлы с задержкой до часа (асинхронная запись):**

      Ответ: AP - так как данные на разных узлах могут отличаться

    - **при сетевых сбоях система может разделиться на 2 раздельных кластера:**

      Ответ: CP или AP - эти реализации позволяют выдерживать разделение кластера

    - **система может не прислать корректный ответ или сбросить соединение:**

      Ответ: CP - так как постоянная доступность не гарантируется 

    **Согласно PACELC-теореме как бы вы классифицировали эти реализации?**
    - **данные записываются на все узлы с задержкой до часа (асинхронная запись):**

      Ответ: PA/EL - так как жертвуем согласованностью ради доступности и производительности
    - **при сетевых сбоях система может разделиться на 2 раздельных кластера:**

      Ответ: PA/EL и PA/EC - эти решения позволяют работать в условиях разделения кластера

    - **система может не прислать корректный ответ или сбросить соединение:**

      Ответ: PC/EC - так как требуется постоянная согласованность в ущерб доступности


3. **Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?**

      Ответ: 
      Я думаю могут, так как существуют системы с настраиваемыми параметрами, которые позволяют
      регулировать доступность и производительность системы в зависимости от состояния **P/E**

4. **Вам дали задачу написать системное решение, основой которого бы послужили:**
    - **фиксация некоторых значений с временем жизни,**
    - **реакция на истечение таймаута.**  
    
    **Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?**

      Ответ: **Redis** - это СУБД вида **ключ-значение**. Так же она имеет возможности присваивать данным параметр времени
      жизни и имеет встроенную поддержку **pub/sub**. К недостаткам **Redis** относится то,
      что **Redis** является распределенной системой без гарантии доставки (не отвечает требованию доступности).
      Подписчики могут не получить сообщения из-за недоступности брокера сообщений, или сообщение, присланное отправителем,
      не дойдет до подписчика без повторной отправки.
