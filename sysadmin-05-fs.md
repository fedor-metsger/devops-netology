

## Ответы к домашнему заданию к занятию
# «Файловые системы»

2. **Могут ли файлы, являющиеся жёсткой ссылкой на один объект, иметь разные права доступа и владельца? Почему?**

    Не могут, потому что это один объект с одним **inod**-ом, а права задаются в **inod**-е.

4. **Используя fdisk, разбейте первый диск на два раздела: 2 Гб и оставшееся пространство.**

5. **Используя sfdisk, перенесите эту таблицу разделов на второй диск.**

6. **Соберите mdadm RAID1 на паре разделов 2 Гб.**

7. **Соберите mdadm RAID0 на второй паре маленьких разделов.**

8. **Создайте два независимых PV на получившихся md-устройствах.**

9. **Создайте общую volume-group на этих двух PV.**

10. **Создайте LV размером 100 Мб, указав его расположение на PV с RAID0.**

11. **Создайте mkfs.ext4 ФС на получившемся LV.**

12. **Смонтируйте этот раздел в любую директорию, например, /tmp/new.**

13. **Поместите туда тестовый файл, например, wget https://mirror.yandex.ru/ubuntu/ls-lR.gz -O /tmp/new/test.gz.**

14. **Прикрепите вывод lsblk.**

15. **Протестируйте целостность файла:**
    ```
    root@vagrant:~# gzip -t /tmp/new/test.gz
    root@vagrant:~# echo $?
    0
    ```

16. **Используя pvmove, переместите содержимое PV с RAID0 на RAID1.**

17. **Сделайте --fail на устройство в вашем RAID1 md.**

18. **Подтвердите выводом dmesg, что RAID1 работает в деградированном состоянии.**

19. **Протестируйте целостность файла — он должен быть доступен несмотря на «сбойный» диск:**
    ```
    root@vagrant:~# gzip -t /tmp/new/test.gz
    root@vagrant:~# echo $?
    0
    ```
