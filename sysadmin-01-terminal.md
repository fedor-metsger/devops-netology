
## Ответы к домашнему заданию к занятию
# «Работа в терминале. Лекция 1»

  Я уже имею установленную Ubuntu 22.04, поэтому задание выполнил на ней.

1. **Какой переменной можно задать длину журнала `history`, и на какой строчке manual это описывается?**

    Ответ: **HISTSIZE**, написано на 826й строке.

2. **Что делает директива `ignoreboth` в bash?**

    Если присвоить переменной среды окружения **HISTCONTROL** значение **ignoreboth**, это будет равносильно
    присвоению двух значений **ignorespace** и **ignoredups**. Таким образом bash не будет сохранять в историю команд
    строки, начинающиеся с пробела, а также не будет сохранять дублирующиеся строки.
    
4. **В каких сценариях использования применимы скобки {}, на какой строчке man bash это описано?**

   На 246й cтроке написано, что фигурные скобки служат для создания "групповой команды". Список команд внутри скобок
   просто запускается в текущем шелле, и в итоге возвращается код ошибки, который вернул этот список.
   
   Кроме того, на строке 1045 описывается "Brace expansion", которое тоже выполняется с помощью фигурных скобок.
   
6. **С учётом ответа на предыдущий вопрос подумайте, как создать однократным вызовом touch 100 000 файлов.
   Получится ли аналогичным образом создать 300 000 файлов? Если нет, то объясните, почему.**
   
   Можем сделать 100000 файлов:
   ```
   vagrant@vagrant:~$ touch {1..100000}
   vagrant@vagrant:~$
   ```
   А сделать **300000** не получается, видимо реализация команды **touch** имеет ограничения.
   Команда **echo** спокойно переваривает **300000** аргументов, и строка не является чрезмерно длинной:
   ```
   vagrant@vagrant:~$ getconf ARG_MAX
   2097152
   vagrant@vagrant:~$ echo {1..300000} | wc -c
   1988895
   vagrant@vagrant:~$ touch {1..300000}
   -bash: /usr/bin/touch: Argument list too long
   vagrant@vagrant:~$
   ```
   
5. **В man bash поищите по /\[\[. Что делает конструкция [[ -d /tmp ]]?**

   Команда **[[ EXPRESSION ]]** возвращает **0** или **1** в зависимости от значения выражения EXPRESSION.
   
   Конструкция **[[ -d /tmp ]]** вернёт **0**, если каталог **/tmp** существует, и **1**, если не существует или это не каталог.

7. **Сделайте так, чтобы в выводе команды `type -a bash` первым стояла запись с нестандартным путём, например, bash is...
   Используйте знания о просмотре существующих и создании новых переменных окружения,
   обратите внимание на переменную окружения PATH.**
    ```
    bash is /tmp/new_path_directory/bash
    bash is /usr/local/bin/bash
    bash is /bin/bash
    ```
    **Другие строки могут отличаться содержимым и порядком.
    В качестве ответа приведите команды, которые позволили вам добиться указанного вывода, или соответствующие скриншоты.**

    Команды:
    ```
    touch /tmp/bash
    chmod +x /tmp/bash
    PATH=/tmp:$PATH type -a bash
    ```
    Вывод:
    ```
    bash is /tmp/bash
    bash is /usr/bin/bash
    bash is /bin/bash
    ```

7. **Чем отличается планирование команд с помощью batch и at?**

    **at** запускает заданные команды в заданное время, а **batch** запускает команды при условии,
    что загрузка системы (load average) не прешывает заданную величину.
