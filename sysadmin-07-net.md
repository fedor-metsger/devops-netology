## Ответы к домашнему заданию к занятию
# «Компьютерные сети. Лекция 2»

1. **Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?**

    В Linux **ip -br link**:
    ```
    vagrant@vagrant:~$ ip -br link
    lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP>
    eth0             UP             08:00:27:59:cb:31 <BROADCAST,MULTICAST,UP,LOWER_UP>
    ```
    
    В Windows: **netsh interface ip show interfaces**:
    ```
    C:\CODE\Netology\Vagrant>netsh interface ip show interfaces

    Idx     Met         MTU          State                Name
    ---  ----------  ----------  ------------  ---------------------------
      1          75  4294967295  connected     Loopback Pseudo-Interface 1
      4          35        1500  connected     Ethernet
      7          25        1500  connected     Ethernet 2
     12          35        1500  disconnected  outline-tap0
    ```

2. **Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?**

    Протокол **LLDP**. Пакет **lldpd**. Команды **lldpcli**, **lldpctl**.

3. **Какая технология используется для разделения L2-коммутатора на несколько виртуальных сетей?
    Какой пакет и команды есть в Linux для этого? Приведите пример конфига.**
    
    Технолония **Virtual Local Area Network**. Пакет в Linux - **vlan**.  
    Пример конфига:
    ```
    network:
        ethernets:
            enp1s0:
                dhcp4: false
                addresses:
                    - 192.168.122.201/24
                gateway4: 192.168.122.1
                nameservers:
                    addresses: [8.8.8.8, 1.1.1.1]
            vlans:
                enp1s0.100:
                    id: 100
                    link: enp1s0
                    addresses: [192.168.100.2/24]
    ```

4. **Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.**

    В Linux Используется модуль **bonding** и пакет **ifenslave**.  
    Возможны режимы:
    - **balance-rr**, mode=0: Используется политика Round Robin (отправка пакетов с разных интерфейсов по очереди) 
    - **active-backup**, mode=1: Работает один интерфейс, если он отказывает, происходит переключение на другой.
    - **balance-xor**, mode=2: Интерфейс для отправки вычисляется по некоему алгоритму. 
    - **broadcast**, mode=3: Отправка пакета по всем интерфейсам. 
    - **802.3ad**, mode=4: Используется LACP протокол.
    - **balance-tlb**, mode=5: Интерфейс для отправки выбирается исходя из загрузки интерфейсов. 
    - **balance-alb**, mode=6: Аналогично **tlb**, но ещё осуществляется балансировка входящего трафика.

    Пример конфига:
    ```
    network:
        version: 2
        ethernets:
            enp9s0:
                dhcp4: no
            enp10s0:
                dhcp4: no
        bonds:
            bond0:
                interfaces: [enp9s0, enp10s0]
                addresses: [192.168.205.100/24]
                gateway4: 192.186.205.1
                parameters:
                    mode: active-backup
                    transmit-hash-policy: layer3+4
                    mii-monitor-interval: 1
                nameservers:
                    addresses:
                        - "8.8.8.8"
                        - "1.1.1.1"
    ```

5. **Сколько IP-адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24.
    Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.**
    
    В сети **/29** **8** IP адресов. Из сети **/24** можно получить **32** сети с маской **/29**.  
    В сети **10.10.10.0/24** есть сети **10.10.10.0/29**, **10.10.10.8/29**, **10.10.10.16/29**, итд..

6. **Задача: вас попросили организовать стык между двумя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты.
    Из какой подсети допустимо взять частные IP-адреса? Маску выберите из расчёта — максимум 40–50 хостов внутри подсети.**
    
    Можно взять IP-адреса из сети **10.64.0.0/10**. Например сеть **10.64.0.0/26**, в ней **64** адреса.

7. **Как проверить ARP-таблицу в Linux, Windows? Как очистить ARP-кеш полностью? Как из ARP-таблицы удалить только один нужный IP?**

    Проверить таблицу в Linux команда **arp**, в Windows **arp -a**  
    Очистить таблицу в Linux - **ip neigh flush all**, в Windows **arp -d \***  
    Удалить одну запись в Linux - **arp -d address**, в Windows тоже **arp -d address**
    
